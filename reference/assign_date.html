<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Assign dates to two sequential hours — assign_date • lubritime</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Assign dates to two sequential hours — assign_date"><meta name="description" content="
assign_date() assigns dates to two sequential hours, assuming that the
interval between the start and end hour is less than or equal to 24
hours.
This function facilitates time arithmetic by placing time values
without a date reference onto a timeline."><meta property="og:description" content="
assign_date() assigns dates to two sequential hours, assuming that the
interval between the start and end hour is less than or equal to 24
hours.
This function facilitates time arithmetic by placing time values
without a date reference onto a timeline."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lubritime</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/danielvartan/lubritime/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Assign dates to two sequential hours</h1>
      <small class="dont-index">Source: <a href="https://github.com/danielvartan/lubritime/blob/main/R/assign_date.R" class="external-link"><code>R/assign_date.R</code></a></small>
      <div class="d-none name"><code>assign_date.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing" class="external-link"><img src="figures/lifecycle-maturing.svg" alt="[Maturing]"></a></p>
<p><code>assign_date()</code> assigns dates to two sequential hours, assuming that the
interval between the <code>start</code> and <code>end</code> hour is less than or equal to 24
hours.</p>
<p>This function facilitates time arithmetic by placing time values
without a date reference onto a timeline.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span>, ambiguity <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-start-end">start, end<a class="anchor" aria-label="anchor" href="#arg-start-end"></a></dt>
<dd><p>An <code><a href="https://hms.tidyverse.org/reference/hms.html" class="external-link">hms</a></code> or <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">POSIXt</a></code>
vector indicating the start or end hour.</p></dd>


<dt id="arg-ambiguity">ambiguity<a class="anchor" aria-label="anchor" href="#arg-ambiguity"></a></dt>
<dd><p>(Optional) a <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></code> or <code>NA</code> value to
instruct <code>assign_date()</code> on how to deal with ambiguities. See the Details
section to learn more (default: <code>0</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code><a href="https://lubridate.tidyverse.org/reference/interval.html" class="external-link">Interval</a></code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="ambiguity-argument"><code>ambiguity</code> argument<a class="anchor" aria-label="anchor" href="#ambiguity-argument"></a></h3>


<p>In cases when <code>start</code> is equal to <code>end</code>, there are two possibilities of
intervals between the two hours (ambiguity). That's because <code>start</code> and <code>end</code>
can be at the same point in time or they can distance themselves by one day,
considering a two-day timeline.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> start,end       start,end       start,end       start,end</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>   start            end            start            end</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>   <span class="dv">10</span><span class="sc">:</span><span class="dv">00</span>           <span class="dv">10</span><span class="sc">:</span><span class="dv">00</span>           <span class="dv">10</span><span class="sc">:</span><span class="dv">00</span>           <span class="dv">10</span><span class="sc">:</span><span class="dv">00</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="sc">-----</span><span class="er">|</span><span class="sc">---------------</span><span class="er">|</span><span class="sc">---------------</span><span class="er">|</span><span class="sc">---------------</span><span class="er">|</span><span class="sc">----</span><span class="ot">-&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="dv">0</span>h              <span class="dv">0</span>h              <span class="dv">0</span>h              <span class="dv">0</span>h</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>            <span class="dv">24</span>h             <span class="dv">24</span>h             <span class="dv">24</span>h</span></code></pre><p></p></div>
<p>You must instruct <code>assign_date()</code> on how to deal with this problem if it
occurs. There are three options to choose.</p><ul><li><p><code>ambiguity = 0</code>: to consider the interval between <code>start</code> and <code>end</code> as 0
hours, i.e., <code>start</code> and <code>end</code> are located at the same point in time
(default).</p></li>
<li><p><code>ambiguity = 24</code>: to consider the interval between <code>start</code> and <code>end</code> as 24
hours, i.e., <code>start</code> and <code>end</code> distance themselves by one day.</p></li>
<li><p><code>ambiguity = NA</code>: to disregard these cases, assigning <code>NA</code> as value.</p></li>
</ul></div>

<div class="section">
<h3 id="base-date-and-timezone">Base date and timezone<a class="anchor" aria-label="anchor" href="#base-date-and-timezone"></a></h3>


<p><code>assign_date()</code> uses the
<a href="https://en.wikipedia.org/wiki/Unix_time" class="external-link">Unix epoch</a> (1970-01-01) date as
the start date for creating intervals.</p>
<p>The output will always have <code>"UTC"</code> set as timezone. Learn more about
time zones in <code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">?timezone</a></code>.</p>
</div>

<div class="section">
<h3 id="posixt-objects"><code>POSIXt</code> objects<a class="anchor" aria-label="anchor" href="#posixt-objects"></a></h3>


<p><code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">POSIXt</a></code> objects passed as argument to <code>start</code> or <code>end</code>
will be stripped of their dates. Only the time will be considered.</p>
<p>Both <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">POSIXct</a></code> and <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">POSIXlt</a></code> are
objects that inherits the class <code>POSIXt</code>. Learn more about it in
<code><a href="https://rdrr.io/r/base/DateTimeClasses.html" class="external-link">?DateTimeClasses</a></code>.</p>
</div>

<div class="section">
<h3 id="na-values"><code>NA</code> values<a class="anchor" aria-label="anchor" href="#na-values"></a></h3>


<p><code>assign_date()</code> will return an <code><a href="https://lubridate.tidyverse.org/reference/interval.html" class="external-link">Interval</a></code> <code>NA</code>-<code>NA</code>
if <code>start</code> or <code>end</code> are <code>NA</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other circular time functions:
<code><a href="cycle_time.html">cycle_time</a>()</code>,
<code><a href="link_to_timeline.html">link_to_timeline</a>()</code>,
<code><a href="shorter_int.html">shorter_int</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Scalar example</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hms</a></span><span class="op">(</span><span class="st">"23:11:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hms</a></span><span class="op">(</span><span class="st">"05:30:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1970-01-01 23:11:00 UTC--1970-01-02 05:30:00 UTC</span>
<span class="r-in"><span><span class="co">#&gt; [1] 1970-01-01 23:11:00 UTC--1970-01-02 05:30:00 UTC # Expected</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hms</a></span><span class="op">(</span><span class="st">"10:15:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hms</a></span><span class="op">(</span><span class="st">"13:25:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1970-01-01 10:15:00 UTC--1970-01-01 13:25:00 UTC</span>
<span class="r-in"><span><span class="co">#&gt; [1] 1970-01-01 10:15:00 UTC--1970-01-01 13:25:00 UTC # Expected</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hms</a></span><span class="op">(</span><span class="st">"05:42:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/hms.html" class="external-link">as_hms</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA--NA</span>
<span class="r-in"><span><span class="co">#&gt; [1] NA--NA # Expected</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Vector example</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">(</span><span class="st">"09:45"</span><span class="op">)</span>, <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">(</span><span class="st">"20:30"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">(</span><span class="st">"21:15"</span><span class="op">)</span>, <span class="fu">hms</span><span class="fu">::</span><span class="fu"><a href="https://hms.tidyverse.org/reference/parse_hms.html" class="external-link">parse_hm</a></span><span class="op">(</span><span class="st">"04:30"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1970-01-01 09:45:00 UTC--1970-01-01 21:15:00 UTC</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2] 1970-01-01 20:30:00 UTC--1970-01-02 04:30:00 UTC</span>
<span class="r-in"><span><span class="co">#&gt; [1] 1970-01-01 09:45:00 UTC--1970-01-01 21:15:00 UTC # Expected</span></span></span>
<span class="r-in"><span><span class="co">#&gt; [2] 1970-01-01 20:30:00 UTC--1970-01-02 04:30:00 UTC # Expected</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## To assign a 24 hours interval to ambiguities</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">as_datetime</a></span><span class="op">(</span><span class="st">"1985-01-15 12:00:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">as_datetime</a></span><span class="op">(</span><span class="st">"2020-09-10 12:00:00"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">assign_date</span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span>, ambiguity <span class="op">=</span> <span class="fl">24</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1970-01-01 12:00:00 UTC--1970-01-02 12:00:00 UTC</span>
<span class="r-in"><span><span class="co">#&gt; [1] 1970-01-01 12:00:00 UTC--1970-01-02 12:00:00 UTC # Expected</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/danielvartan" class="external-link">Daniel Vartanian</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

